<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>年月日联动</title>
	</head>
	<body>
		<form action="javascript:;" name="myForm">
			<p>
				<select name="year"></select> 年
				<select name="month"></select> 月
				<select name="day"></select> 日
			</p>
		</form>
		<script>
			var myForm = document.forms.myForm;
			var year = myForm.year;
			var month = myForm.month;
			var day = myForm.day;
			var day31 = [1,3,5,7,8,10,12];
			var day30 = [4,6,9,11];
			createData(year,1900,2019);
			createData(month,1,12);
			createData(day,1,31);
			year.onchange = dataChange;
			month.onchange = dataChange;
			//天数随年、月改变（其中年份决定2月份天数）
			function dataChange(){
				day.length = 0;
				if(day31.indexOf(parseInt(month.value)) != -1){
					createData(day,1,31);
				}else if(day30.indexOf(parseInt(month.value)) != -1){
					createData(day,1,30);
				}else{
					if(year.value % 4 == 0 && year.value % 100 != 0 || year.value % 400 == 0){//润年
						createData(day,1,29);
					}else{
						createData(day,1,28);
					}
				}
			}
			//创建年月日数据
			function createData(el,begin,end){
				for(var i=begin;i<=end;i++){
					el.add(new Option(i,i));
				}
			}
		</script>
	</body>
</html>
