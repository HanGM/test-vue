<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>横向轮播图</title>
		<link rel="stylesheet" href="css/base.css" />
	</head>
	<body>
		<div class="banner">
			<ul class="imglist">
				<li><img src="img/1.jpg" alt="图片" /></li>
				<li><img src="img/2.jpg" alt="图片" /></li>
				<li><img src="img/3.jpg" alt="图片" /></li>
				<li><img src="img/4.jpg" alt="图片" /></li>
				<li><img src="img/5.jpg" alt="图片" /></li>
				<li><img src="img/6.jpg" alt="图片" /></li>
			</ul>
			<div class="btn prev">&lt;</div>
			<div class="btn next">&gt;</div>
			<div class="item">
				<span class="on"></span>
				<span></span>
				<span></span>
				<span></span>
				<span></span>
				<span></span>
			</div>
		</div>
		<script src="jquery.js"></script>
		<script>
			$('.banner ul').width($('.banner').width()*$('li').length)
			var num = 0;
			var flag =true;
			$('.next').click(function(){
				if(flag){
					flag = false;
					num = num >= $('li').length - 1 ? 0 : ++ num;
					$('span').eq(num).addClass('on').siblings().removeClass('on')
					$('.banner ul').animate({
						marginLeft:-$('.banner').width()
					},400,function(){
						$('.banner ul').css('marginLeft',0)
						$('.banner ul').append($('li').first())
						flag = true;
					})
				}	
			})
			$('.prev').click(function(){
				if(flag){
					flag = false;
					num = num <= 0 ? $('li').length - 1 : -- num;
					$('span').eq(num).addClass('on').siblings().removeClass('on')
					$('.banner ul').prepend($('li').last())
					$('.banner ul').css('marginLeft',-$('.banner').width())
					$('.banner ul').animate({
						marginLeft:0
					},400,function(){
						flag = true;
					})
				}	
			})
			$('span').click(function(){
				num = $(this).index();
				$('span').eq(num).addClass('on').siblings().removeClass('on')
				$('.banner ul').animate({
					marginLeft:-num*$('.banner').width()
				})
			})
			/*var num = 0; 
			$('.next').click(function(){
				num = num >= $('li').length - 1 ? 0 : ++ num;
				move();
			})
			$('.prev').click(function(){
				num = num <= 0 ? $('li').length - 1 : -- num;
				move();
			})
			$('span').click(function(){
				num = $(this).index()
				move();
			})
			function move(){
				$('.banner ul').animate({
					marginLeft:-num*$('.banner').width()
				})
				$('span').eq(num).addClass('on').siblings().removeClass('on')
			}*/
		</script>
	</body>
</html>
